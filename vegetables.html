<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Little Master: Fruits & Veggies</title>
    
    <!-- English Font: Fredoka -->
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@500;700&display=swap" rel="stylesheet">
    
    <!-- Confetti Script -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <style>
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: 'Fredoka', sans-serif;
            background: linear-gradient(180deg, #E8F5E9 0%, #C8E6C9 100%);
            height: 100vh;
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            overflow: hidden;
            color: #333;
        }

        /* --- UI ELEMENTS --- */
        .home-btn {
            position: absolute; top: 15px; left: 15px;
            background: white; border: 3px solid #fff; border-radius: 50%;
            width: 50px; height: 50px; font-size: 28px;
            cursor: pointer; box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            z-index: 200; display: flex; align-items: center;
            justify-content: center; text-decoration: none;
        }

        #startScreen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(180deg, #E8F5E9 0%, #C8E6C9 100%);
            z-index: 10000; display: flex; flex-direction: column;
            justify-content: center; align-items: center; text-align: center;
        }

        .play-btn {
            background: #2E7D32; color: white; font-size: 28px;
            padding: 15px 50px; border: none; border-radius: 50px;
            font-family: 'Fredoka', sans-serif; font-weight: bold;
            box-shadow: 0 6px 0 #1B5E20; cursor: pointer;
            animation: pulse 1.5s infinite; margin-top: 10px;
        }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }

        .game-wrapper {
            flex: 1; display: none; flex-direction: column;
            align-items: center; justify-content: center;
            width: 100%; padding-bottom: 60px;
        }

        .mascot-display {
            height: 90px; margin-bottom: 5px;
            filter: drop-shadow(0 5px 5px rgba(0,0,0,0.2));
        }

        .card {
            background: white; padding: 15px; border-radius: 30px;
            width: 90%; max-width: 360px; text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15); border: 5px solid #fff;
            display: flex; flex-direction: column; justify-content: center;
        }

        .question-area {
            background: #F1F8E9; border-radius: 20px;
            padding: 10px 5px; margin-bottom: 15px;
            border: 2px dashed #AED581;
        }

        .spelling-text {
            font-size: 40px; font-weight: 700; color: #2E7D32;
            letter-spacing: 1px; line-height: 1.1; margin: 0;
            text-shadow: 2px 2px 0 #DCEDC8; text-transform: uppercase;
        }

        .hindi-text {
            font-size: 26px; color: #558B2F; margin-top: 2px;
            font-weight: 500; font-family: sans-serif;
        }

        .success-text {
            font-size: 45px; color: #4CAF50; font-weight: bold;
            animation: popIn 0.3s;
        }
        @keyframes popIn { from {transform:scale(0);} to {transform:scale(1);} }

        .options-grid {
            display: grid; grid-template-columns: 1fr 1fr; gap: 12px;
        }

        .option-btn {
            background: white; border: 3px solid #E0E0E0;
            border-radius: 20px; height: 90px;
            display: flex; align-items: center; justify-content: center;
            cursor: pointer; box-shadow: 0 5px 0 #E0E0E0;
            transition: transform 0.1s;
        }
        .option-btn:active { transform: translateY(5px); box-shadow: none; }

        .emoji-mode { font-size: 50px; }
        .img-mode { max-width: 80%; max-height: 80%; object-fit: contain; }

        .ad-box-rect {
            width: 300px; height: 250px; background: #fff;
            display: flex; justify-content: center; align-items: center;
            margin: 20px 0; border: 2px dashed #ccc;
        }
        .ad-bottom {
            position: fixed; bottom: 0; width: 100%; height: 50px;
            background: #fff; border-top: 1px solid #ccc;
            display: flex; justify-content: center; align-items: center; z-index: 9000;
        }

        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); display: none;
            justify-content: center; align-items: center; z-index: 11000;
        }
        .modal-box {
            background: white; padding: 25px; border-radius: 25px;
            text-align: center; width: 90%; max-width: 320px;
        }
    </style>
</head>
<body>

    <script src="https://pl21772533.effectivegatecpm.com/8c/b6/66/8cb6663167876148ce98818f0eabaad8.js"></script>

    <!-- START SCREEN -->
    <div id="startScreen">
        <a href="index.html" class="home-btn">üè†</a>
        <h1 style="color: #1B5E20; font-size: 35px; margin-bottom: 5px;">Read & Find</h1>
        <p style="color: #333; margin-top: 0;">Fruits & Veggies üçéü•¶</p>
        
        <div class="ad-box-rect">
            <script type="text/javascript">
                atOptions = { 'key' : 'd30662a773f82e053b64b8591ab5444c', 'format' : 'iframe', 'height' : 250, 'width' : 300, 'params' : {} };
                document.write('<scr' + 'ipt type="text/javascript" src="http' + (location.protocol === 'https:' ? 's' : '') + '://www.highperformanceformat.com/d30662a773f82e053b64b8591ab5444c/invoke.js"></scr' + 'ipt>');
            </script>
        </div>
        
        <button class="play-btn" onclick="startGame()">‚ñ∂ Play</button>
    </div>

    <!-- GAME WRAPPER -->
    <div class="game-wrapper" id="gameWrapper">
        <a href="index.html" class="home-btn">üè†</a>
        <img src="talkingof.PNG" id="mascotImage" class="mascot-display" alt="Mascot">
        
        <div class="card">
            <div style="text-align: left; font-size: 14px; color: #888; margin-bottom: 5px;">Read this word:</div>
            
            <div class="question-area" id="qArea">
                <div class="spelling-text" id="qText">APPLE</div>
                <div class="hindi-text" id="qHindi">‡§∏‡•á‡§¨</div>
            </div>

            <div class="options-grid" id="optionsBox"></div>
        </div>
    </div>

    <div class="ad-bottom">
        <script type="text/javascript">
            atOptions = { 'key' : '66159e73d9894e59c14c0570abaee84e', 'format' : 'iframe', 'height' : 50, 'width' : 320, 'params' : {} };
            document.write('<scr' + 'ipt type="text/javascript" src="http' + (location.protocol === 'https:' ? 's' : '') + '://www.highperformanceformat.com/66159e73d9894e59c14c0570abaee84e/invoke.js"></scr' + 'ipt>');
        </script>
    </div>

    <!-- MODALS -->
    <div class="modal-overlay" id="wrongModal">
        <div class="modal-box">
            <div style="font-size: 60px;">üò¢</div>
            <h2 style="color: #F44336;">Try Again!</h2>
            <button class="play-btn" style="background:#F44336;" onclick="resetLevel()">Retry ‚Ü∫</button>
        </div>
    </div>

    <div class="modal-overlay" id="finishModal">
        <div class="modal-box">
            <div style="font-size: 60px;">üèÜ</div>
            <h2 style="color: #4CAF50;">Awesome!</h2>
            <p>You learned all items!</p>
            <button class="play-btn" style="background:#2196F3;" onclick="restartFullGame()">Play Again</button>
        </div>
    </div>

    <script>
        // --- DATA LIST (Mixed Fruits & Veggies) ---
        // Note: For items with 'img: "name.png"', you MUST upload the file.
        
        const gameData = [
            // Standard Emojis
            { en: "POTATO", hi: "‡§Ü‡§≤‡•Ç", img: "ü•î" },
            { en: "APPLE", hi: "‡§∏‡•á‡§¨", img: "üçé" },
            { en: "ONION", hi: "‡§™‡•ç‡§Ø‡§æ‡§ú‡§º", img: "üßÖ" },
            { en: "BANANA", hi: "‡§ï‡•á‡§≤‡§æ", img: "üçå" },
            { en: "TOMATO", hi: "‡§ü‡§Æ‡§æ‡§ü‡§∞", img: "üçÖ" },
            { en: "MANGO", hi: "‡§Ü‡§Æ", img: "ü•≠" },
            { en: "BRINJAL", hi: "‡§¨‡•à‡§Ç‡§ó‡§®", img: "üçÜ" },
            { en: "ORANGE", hi: "‡§∏‡§Ç‡§§‡§∞‡§æ", img: "üçä" },
            { en: "GRAPES", hi: "‡§Ö‡§Ç‡§ó‡•Ç‡§∞", img: "üçá" },
            { en: "PINEAPPLE", hi: "‡§Ö‡§®‡§æ‡§®‡§æ‡§∏", img: "üçç" },
            { en: "CARROT", hi: "‡§ó‡§æ‡§ú‡§∞", img: "ü•ï" },
            { en: "WATERMELON", hi: "‡§§‡§∞‡§¨‡•Ç‡§ú", img: "üçâ" },
            { en: "PUMPKIN", hi: "‡§ï‡§¶‡•ç‡§¶‡•Ç", img: "üéÉ" },
            { en: "MUSKMELON", hi: "‡§ñ‡§∞‡§¨‡•Ç‡§ú‡§æ", img: "üçà" },
            { en: "KIWI", hi: "‡§ï‡•Ä‡§µ‡•Ä", img: "ü•ù" },
            { en: "PEAS", hi: "‡§Æ‡§ü‡§∞", img: "ü´õ" },
            { en: "STRAWBERRY", hi: "‡§∏‡•ç‡§ü‡•ç‡§∞‡•â‡§¨‡•á‡§∞‡•Ä", img: "üçì" },
            { en: "GINGER", hi: "‡§Ö‡§¶‡§∞‡§ï", img: "ü´ö" },
            { en: "LEMON", hi: "‡§®‡•Ä‡§Ç‡§¨‡•Ç", img: "üçã" },
            { en: "GARLIC", hi: "‡§≤‡§π‡§∏‡•Å‡§®", img: "üßÑ" },
            { en: "CUCUMBER", hi: "‡§ñ‡•Ä‡§∞‡§æ", img: "ü•í" },
            { en: "PEAR", hi: "‡§®‡§æ‡§∂‡§™‡§æ‡§§‡•Ä", img: "üçê" },
            { en: "PEACH", hi: "‡§Ü‡§°‡§º‡•Ç", img: "üçë" },
            { en: "CHERRY", hi: "‡§ö‡•á‡§∞‡•Ä", img: "üçí" },
            { en: "CAPSICUM", hi: "‡§∂‡§ø‡§Æ‡§≤‡§æ ‡§Æ‡§ø‡§∞‡•ç‡§ö", img: "ü´ë" },
            { en: "BLUEBERRY", hi: "‡§®‡•Ä‡§≤‡§¨‡§¶‡§∞‡•Ä", img: "ü´ê" },
            { en: "SWEET POTATO", hi: "‡§∂‡§ï‡§∞‡§ï‡§Ç‡§¶", img: "üç†" },
            { en: "COCONUT", hi: "‡§®‡§æ‡§∞‡§ø‡§Ø‡§≤", img: "ü••" },
            { en: "MUSHROOM", hi: "‡§ñ‡•Å‡§Æ‡•ç‡§¨", img: "üçÑ" },
            { en: "AVOCADO", hi: "‡§è‡§µ‡•ã‡§ï‡•à‡§°‡•ã", img: "ü•ë" },
            { en: "CORN", hi: "‡§≠‡•Å‡§ü‡•ç‡§ü‡§æ", img: "üåΩ" },
            { en: "BROCCOLI", hi: "‡§¨‡•ç‡§∞‡•ã‡§ï‡•ã‡§≤‡•Ä", img: "ü•¶" },
            { en: "OLIVE", hi: "‡§ú‡•à‡§§‡•Ç‡§®", img: "ü´í" },
            { en: "LETTUCE", hi: "‡§∏‡§≤‡§æ‡§¶ ‡§™‡§§‡•ç‡§§‡§æ", img: "ü•¨" },
            { en: "CORIANDER", hi: "‡§ß‡§®‡§ø‡§Ø‡§æ", img: "üåø" },
            { en: "GREEN CHILLI", hi: "‡§π‡§∞‡•Ä ‡§Æ‡§ø‡§∞‡•ç‡§ö", img: "üå∂Ô∏è" },

            // --- IMAGES REQUIRED (Upload these PNGs) ---
            { en: "LADY FINGER", hi: "‡§≠‡§ø‡§Ç‡§°‡•Ä", img: "ladyfinger.png" },
            { en: "CABBAGE", hi: "‡§™‡§§‡•ç‡§§‡§æ ‡§ó‡•ã‡§≠‡•Ä", img: "cabbage.png" },
            { en: "PAPAYA", hi: "‡§™‡§™‡•Ä‡§§‡§æ", img: "papaya.png" },
            { en: "CAULIFLOWER", hi: "‡§´‡•Ç‡§≤ ‡§ó‡•ã‡§≠‡•Ä", img: "cauliflower.png" },
            { en: "GUAVA", hi: "‡§Ö‡§Æ‡§∞‡•Ç‡§¶", img: "guava.png" },
            { en: "RADISH", hi: "‡§Æ‡•Ç‡§≤‡•Ä", img: "radish.png" },
            { en: "SPINACH", hi: "‡§™‡§æ‡§≤‡§ï", img: "spinach.png" },
            { en: "POMEGRANATE", hi: "‡§Ö‡§®‡§æ‡§∞", img: "pomegranate.png" },
            { en: "BITTER GOURD", hi: "‡§ï‡§∞‡•á‡§≤‡§æ", img: "bittergourd.png" },
            { en: "BOTTLE GOURD", hi: "‡§≤‡•å‡§ï‡•Ä", img: "bottlegourd.png" },
            { en: "RIDGE GOURD", hi: "‡§§‡•ã‡§∞‡§à", img: "ridgegourd.png" },
            { en: "PLUM", hi: "‡§Ü‡§≤‡•Ç ‡§¨‡•Å‡§ñ‡§æ‡§∞‡§æ", img: "plum.png" },
            { en: "TURNIP", hi: "‡§∂‡§≤‡§ú‡§Æ", img: "turnip.png" },
            { en: "FIG", hi: "‡§Ö‡§Ç‡§ú‡•Ä‡§∞", img: "fig.png" },
            { en: "BEETROOT", hi: "‡§ö‡•Å‡§ï‡§Ç‡§¶‡§∞", img: "beetroot.png" },
            { en: "LITCHI", hi: "‡§≤‡•Ä‡§ö‡•Ä", img: "litchi.png" },
            { en: "DRUMSTICK", hi: "‡§∏‡§π‡§ú‡§®", img: "drumstick.png" },
            { en: "DRAGON FRUIT", hi: "‡§°‡•ç‡§∞‡•à‡§ó‡§® ‡§´‡•ç‡§∞‡•Ç‡§ü", img: "dragonfruit.png" },
            { en: "JACKFRUIT", hi: "‡§ï‡§ü‡§π‡§≤", img: "jackfruit.png" },
            { en: "CUSTARD APPLE", hi: "‡§∏‡•Ä‡§§‡§æ‡§´‡§≤", img: "custardapple.png" },
            { en: "FENUGREEK", hi: "‡§Æ‡•á‡§•‡•Ä", img: "fenugreek.png" },
            { en: "MULBERRY", hi: "‡§∂‡§π‡§§‡•Ç‡§§", img: "mulberry.png" },
            { en: "DATE", hi: "‡§ñ‡§ú‡•Ç‡§∞", img: "date.png" },
            { en: "RAW BANANA", hi: "‡§ï‡§ö‡•ç‡§ö‡§æ ‡§ï‡•á‡§≤‡§æ", img: "rawbanana.png" },
            { en: "AMLA", hi: "‡§Ü‡§Ç‡§µ‡§≤‡§æ", img: "amla.png" },
            { en: "SPRING ONION", hi: "‡§π‡§∞‡§æ ‡§™‡•ç‡§Ø‡§æ‡§ú‡§º", img: "springonion.png" },
            { en: "RAISIN", hi: "‡§ï‡§ø‡§∂‡§Æ‡§ø‡§∂", img: "raisin.png" },
            { en: "ZUCCHINI", hi: "‡§ú‡•Å‡§ï‡•Ä‡§®‡•Ä", img: "zucchini.png" },
            { en: "CRANBERRY", hi: "‡§ï‡§∞‡•å‡§Ç‡§¶‡§æ", img: "cranberry.png" },
            { en: "APRICOT", hi: "‡§ñ‡•Å‡§¨‡§æ‡§®‡•Ä", img: "apricot.png" },
            { en: "KALE", hi: "‡§ï‡•á‡§≤", img: "kale.png" },
            { en: "PASSION FRUIT", hi: "‡§ï‡•É‡§∑‡•ç‡§£‡§æ ‡§´‡§≤", img: "passionfruit.png" }
        ];

        let currentIndex = 0;

        function speakWord(text) {
            const mascot = document.getElementById('mascotImage');
            if(mascot) mascot.src = "talkingof.gif";
            
            // Try MP3 first
            let fileName = text.toLowerCase().replace(/ /g, "") + ".mp3"; // Removes spaces for filename
            let audio = new Audio(fileName);

            audio.onended = () => { if(mascot) mascot.src = "talkingof.PNG"; };
            
            // Fallback to TTS
            audio.onerror = () => {
                const synth = window.speechSynthesis;
                const u = new SpeechSynthesisUtterance(text);
                u.rate = 0.8; 
                u.onend = () => { if(mascot) mascot.src = "talkingof.PNG"; };
                synth.speak(u);
            };

            audio.play().catch(e => {
                const synth = window.speechSynthesis;
                const u = new SpeechSynthesisUtterance(text);
                u.rate = 0.8;
                u.onend = () => { if(mascot) mascot.src = "talkingof.PNG"; };
                synth.speak(u);
            });
        }

        function startGame() {
            document.getElementById('startScreen').style.display = 'none';
            document.getElementById('gameWrapper').style.display = 'flex';
            const saved = localStorage.getItem('learnMixLevel');
            if(saved) currentIndex = parseInt(saved);
            loadLevel();
        }

        function loadLevel() {
            if(currentIndex >= gameData.length) {
                document.getElementById('finishModal').style.display = 'flex';
                if(typeof confetti === 'function') confetti();
                return;
            }

            const correct = gameData[currentIndex];
            
            document.getElementById('qText').innerText = correct.en;
            document.getElementById('qHindi').innerText = correct.hi;

            setTimeout(() => speakWord(correct.en), 300);

            let options = [correct];
            while(options.length < 4) {
                let r = gameData[Math.floor(Math.random() * gameData.length)];
                if(r.en !== correct.en && !options.includes(r)) options.push(r);
            }
            options.sort(() => Math.random() - 0.5);

            const box = document.getElementById('optionsBox');
            box.innerHTML = "";

            options.forEach(item => {
                const btn = document.createElement('div');
                btn.className = 'option-btn';
                
                let contentHTML = '';
                if(item.img.includes('.')) {
                    contentHTML = `<img src="${item.img}" class="img-mode" alt="${item.en}">`;
                } else {
                    contentHTML = `<div class="emoji-mode">${item.img}</div>`;
                }
                btn.innerHTML = contentHTML;

                btn.onclick = () => {
                    if(item.en === correct.en) {
                        handleSuccess(correct);
                    } else {
                        handleWrong(btn);
                    }
                };
                box.appendChild(btn);
            });
        }

        function handleSuccess(correct) {
            if(typeof confetti === 'function') confetti();
            
            const qArea = document.getElementById('qArea');
            // Store original content
            const originalHTML = qArea.innerHTML;
            qArea.innerHTML = `<div class="success-text">Correct!</div>`;
            
            speakWord("Good Job!");

            setTimeout(() => {
                currentIndex++;
                localStorage.setItem('learnMixLevel', currentIndex);
                qArea.innerHTML = `<div class="spelling-text" id="qText"></div><div class="hindi-text" id="qHindi"></div>`;
                loadLevel();
            }, 1500);
        }

        function handleWrong(btnElement) {
            btnElement.style.background = "#FFCDD2";
            btnElement.style.borderColor = "#F44336";
            setTimeout(() => {
                document.getElementById('wrongModal').style.display = 'flex';
            }, 400);
        }

        function resetLevel() {
            document.getElementById('wrongModal').style.display = 'none';
            const btns = document.querySelectorAll('.option-btn');
            btns.forEach(b => {
                b.style.background = 'white';
                b.style.borderColor = '#E0E0E0';
            });
            const correct = gameData[currentIndex];
            speakWord(correct.en);
        }

        function restartFullGame() {
            currentIndex = 0;
            localStorage.setItem('learnMixLevel', 0);
            location.reload();
        }
    </script>
</body>
</html>